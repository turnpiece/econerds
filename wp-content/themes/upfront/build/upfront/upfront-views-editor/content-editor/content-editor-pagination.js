!function(t){Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["text!upfront/templates/popup.html"],function(n){return Backbone.View.extend({paginationTpl:_.template(t(n).find("#upfront-pagination-tpl").html()),events:{"click .upfront-pagination_page-item":"handle_pagination_request","click .upfront-pagination_item-next":"handle_next","click .upfront-pagination_item-prev":"handle_prev","keypress .upfront-pagination_page-current":"set_page_keypress"},initialize:function(t){this.options=t},render:function(){this.$el.html(this.paginationTpl(this.collection.pagination))},handle_pagination_request:function(n,e){e=e?e:parseInt(t(n.target).attr("data-page_idx"),10)||0;var i=this;this.collection.pagination;this.collection.fetchPage(e).done(function(t){i.collection.trigger("reset")})},handle_next:function(t){var n=this.collection.pagination,e=n.currentPage!=n.pages-1&&n.currentPage+1;e&&this.handle_pagination_request(t,e)},handle_prev:function(t){var n=this.collection.pagination,e=0!=n.currentPage&&n.currentPage-1;e!==!1&&this.handle_pagination_request(t,e)},set_page_keypress:function(n){if(n.stopPropagation(),13!==n.which)return!0;var e=t.trim(t(n.target).val()),i=parseInt(e,10);return!(!i||i<1)&&(i>this.collection.pagination.pages&&(i=this.collection.pagination.pages),void this.handle_pagination_request(n,i-1))}})})}(jQuery);